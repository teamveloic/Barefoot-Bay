import fs from 'fs';
import path from 'path';
import { fileURLToPath } from 'url';

// Get directory name in ESM
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Create a simple placeholder image
// This creates a small PNG placeholder for maps
const placeholderBase64 = 'iVBORw0KGgoAAAANSUhEUgAAAlgAAAEsCAIAAACtT7xTAAAACXBIWXMAAA7EAAAOxAGVKw4bAAANMklEQVR4nO3dQY4kORWAYcehpGADS2bFgltw/0OxZ8MhEEIjJCRmA6J6qmdez4uIcNj+PqlUPdWZfhXllP/ndGZe/vr7X38BAKjv5d/++Y93v+bf//j8g1/8/Ze//uz3AADUdLl/+u3H33/9/OO/WgcAQHWXt/8VEQIADVwenkREANDA5etf3YeHvyQiAoDKLh/+WK+IEACo7HK//PCLMl0IACM4PhQzXQgAffzwXMKvRIQAUNnl7ee+EhECQGXHjyd8ISIEgMouDztYX4kIAaCyy/OTwV+ICAGgssvx4YSvRIQAUNnl6XDh4usiAgAqy9rBEhECQB/ZO1giQgDo4PB8wiMiQgCo7JI6XSgiBAD+ICIEgHL+8x9/+/6LL9/9+uVvPz87HAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4D2X+6df/v7Lz5/fPvp6+PH3X59/9Muff/rxxwEA2He5f3r7+Nvn44/fPxQRAgDZLo9/JiIEALJdHv9MRAgAZLs8/eGrx79+FRFyfXT5m+9+bBxf/vjP7376o3Fw+dsPv/7g4+jjy//94/e//LFxfPnbD3/94OPo4/L0h69EhHDd7p+PB5cfHoaXt4+X549FhAyjiJAfX76/ej0+FBEyjCJCfn75/rr1/MlXIkLi6GWwXEQYR0RIDr0MVogIGyoi5MeX79crO1iJrNkO6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMciS3LoZbBcRBjHIkty6GWwXEQYxyJLcuhlsFxEGMci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';

// Convert base64 string to buffer
const imageBuffer = Buffer.from(placeholderBase64, 'base64');

// Save to file
const filePath = path.join(__dirname, 'public', 'media-placeholder', 'map-placeholder.png');
fs.writeFileSync(filePath, imageBuffer);

console.log(`Placeholder image saved to ${filePath}`);